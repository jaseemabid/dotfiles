{
    "[css][json][jsonc][scss][typescript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.formatOnSave": true,
        "editor.wordWrap": "off",
        "rewrap.autoWrap.enabled": false
    },
    "[html]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.formatOnSave": false
    },
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[markdown]": {
        // This would be great, but breaks markdown tables and readme.com raw mode
        "rewrap.onSave": false
    },
    "[python]": {
        "editor.defaultFormatter": "charliermarsh.ruff",
        "editor.formatOnSave": true
    },
    "[rust]": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.organizeImports": "always"
        }
    },
    "[typescript]": {
        "editor.codeActionsOnSave": {
            // Removing unused imports is too eager and buggy to be useful
            "source.organizeImports": "never",
            "source.sortImports": "explicit"
        }
    },
    "[yaml]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "breadcrumbs.showProperties": false,
    "breadcrumbs.showStructs": false,
    "cSpell.customDictionaries": {
        "custom": true,
        "jabid": {
            "addWords": true,
            "name": "jabid",
            "path": "~/.dictionary",
            "scope": "user"
        }
    },
    "D2.execPath": "/opt/homebrew/bin/d2",
    "D2.previewLayout": "elk",
    "editor.accessibilitySupport": "off",
    "editor.codeLensFontFamily": "Monaco, 'Apple Color Emoji'",
    "editor.fontFamily": "'Monaspace Neon', 'Apple Color Emoji', monospace",
    "editor.fontLigatures": "'calt', 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'liga'",
    "editor.formatOnSave": false,
    "editor.inlayHints.enabled": "offUnlessPressed",
    "editor.inlayHints.padding": true,
    "editor.minimap.enabled": false,
    "editor.minimap.renderCharacters": false,
    "editor.minimap.showSlider": "always",
    "editor.minimap.size": "fit",
    "editor.renderWhitespace": "none",
    "editor.unicodeHighlight.ambiguousCharacters": false,
    "editor.wordWrap": "bounded",
    "editor.wordWrapColumn": 100,
    "eslint.run": "onSave",
    "extensions.autoCheckUpdates": false,
    "extensions.autoUpdate": false,
    "files.associations": {
        "*.tera": "html"
    },
    "files.autoSave": "onFocusChange",
    "files.exclude": {
        "**/__pycache__": true,
        ".pytest_cache": true,
        ".venv": true
    },
    "files.insertFinalNewline": true,
    "files.readonlyInclude": {
        ".venv/**": true
    },
    "files.trimTrailingWhitespace": true,
    "files.watcherExclude": {
        "**/.ammonite": true,
        "**/.bloop": true,
        "**/.metals": true
    },
    "git.openRepositoryInParentFolders": "always",
    "git.confirmSync": false,
    "github.copilot.enable": {
        "*": false,
        "markdown": false,
        "plaintext": false,
        "scminput": false
    },
    "json.schemas": [],
    "jupyter.askForKernelRestart": false,
    "markdown.editor.pasteUrlAsFormattedLink.enabled": "smart",
    "markdown.occurrencesHighlight.enabled": true,
    "markdown.preview.breaks": true,
    "markdown.suggest.paths.includeWorkspaceHeaderCompletions": "onSingleOrDoubleHash",
    "markdown.validate.unusedLinkDefinitions.enabled": "warning",
    "notebook.codeActionsOnSave": {
        "source.fixAll": false,
        "source.organizeImports": true
    },
    "notebook.dragAndDropEnabled": false,
    "notebook.formatOnSave.enabled": true,
    "notebook.outline.showCodeCells": true,
    "notebook.showCellStatusBar": "hidden",
    "notebook.showFoldingControls": "always",
    "notebook.undoRedoPerCell": false,
    "prettier.documentSelectors": ["**/*.{html,tera}"],
    "prettier.tabWidth": 4,
    "python.analysis.supportRestructuredText": true,
    "redhat.telemetry.enabled": false,
    "rewrap.autoWrap.enabled": true,
    "rewrap.wrappingColumn": 120,
    // Proc macros generated by binrw's temp
    "rust-analyzer.diagnostics.disabled": ["E0063"],
    "rust-analyzer.check.command": "clippy",
    "rust-analyzer.procMacro.enable": false, // This fails badly on rust nightly.
    "security.workspace.trust.untrustedFiles": "open",
    "settingsSync.ignoredExtensions": ["coolbear.systemd-unit-file"],
    "terminal.integrated.defaultProfile.osx": "zsh",
    "terminal.integrated.fontFamily": "MesloLGS NF",
    "terminal.integrated.showExitAlert": false,
    "testing.saveBeforeTest": false,
    "typescript.enablePromptUseWorkspaceTsdk": true,
    "typescript.implementationsCodeLens.enabled": true,
    "typescript.inlayHints.enumMemberValues.enabled": true,
    "typescript.inlayHints.functionLikeReturnTypes.enabled": true,
    "typescript.inlayHints.parameterTypes.enabled": true,
    "typescript.inlayHints.variableTypes.enabled": true,
    "typescript.suggest.completeFunctionCalls": true,
    "vim.enableNeovim": true,
    "vim.handleKeys": {
        "<C-<SPACE>>": true,
        "<C-d>": true,
        "<C-space>": true
    },
    "vim.leader": "<SPACE>",
    "vim.neovimUseConfigFile": true,
    "vim.normalModeKeyBindings": [
        /*
         * Default keybindings
         *
         * gd - Jump to definition. https://github.com/VSCodeVim/Vim/blob/e6f171d/src/actions/commands/actions.ts#L1071
         * gh - Hover over symbol. https://github.com/VSCodeVim/Vim/blob/e6f171d/src/actions/commands/actions.ts#L2491
         *
         */
        {
            "before": ["]", "]"],
            "commands": ["editor.action.marker.next"],
            "silent": true
        },
        {
            "before": ["[", "["],
            "commands": ["editor.action.marker.prev"],
            "silent": true
        },
        {
            "before": ["g", "s"],
            "commands": ["editor.action.revealDefinition"],
            "silent": true
        },
        {
            "before": ["g", "i"],
            "commands": ["editor.action.goToImplementation"],
            "silent": true
        },
        {
            "before": ["g", "t"],
            "commands": ["editor.action.goToTypeDefinition"],
            "silent": true
        },
        {
            "before": ["<leader>", "o"],
            "commands": ["workbench.action.gotoSymbol"],
            "silent": true
        },
        {
            "before": ["<leader>", "O"],
            "commands": ["workbench.action.showAllSymbols"],
            "silent": true
        },
        {
            "before": ["<leader>", "r"],
            "commands": ["editor.action.rename"],
            "silent": true
        },
        {
            "before": ["<leader>", "t"],
            "commands": ["editor.action.refactor"],
            "silent": true
        },
        // Peek declaration. Very similar to hover, but on leader key.
        {
            "before": ["<leader>", "p"],
            "commands": ["editor.action.peekDeclaration"],
            "silent": true
        }
    ],
    "vim.statusBarColors.visualline": "",
    "vim.textwidth": 80,
    "vim.useCtrlKeys": true,
    "vim.useSystemClipboard": true,
    "window.autoDetectColorScheme": true,
    "window.commandCenter": true,
    "window.customTitleBarVisibility": "never",
    "window.nativeTabs": true,
    "window.titleBarStyle": "native",
    "window.zoomLevel": 1,
    "workbench.preferredLightColorTheme": "Flexoki Light",
    "workbench.startupEditor": "none",
    "yaml.customTags": [
        "!And scalar",
        "!And mapping",
        "!And sequence",
        "!If scalar",
        "!If mapping",
        "!If sequence",
        "!Not scalar",
        "!Not mapping",
        "!Not sequence",
        "!Equals scalar",
        "!Equals mapping",
        "!Equals sequence",
        "!Or scalar",
        "!Or mapping",
        "!Or sequence",
        "!FindInMap scalar",
        "!FindInMap mapping",
        "!FindInMap sequence",
        "!Base64 scalar",
        "!Base64 mapping",
        "!Base64 sequence",
        "!Cidr scalar",
        "!Cidr mapping",
        "!Cidr sequence",
        "!Ref scalar",
        "!Ref mapping",
        "!Ref sequence",
        "!Sub scalar",
        "!Sub mapping",
        "!Sub sequence",
        "!GetAtt scalar",
        "!GetAtt mapping",
        "!GetAtt sequence",
        "!GetAZs scalar",
        "!GetAZs mapping",
        "!GetAZs sequence",
        "!ImportValue scalar",
        "!ImportValue mapping",
        "!ImportValue sequence",
        "!Select scalar",
        "!Select mapping",
        "!Select sequence",
        "!Split scalar",
        "!Split mapping",
        "!Split sequence",
        "!Join scalar",
        "!Join mapping",
        "!Join sequence"
    ],
    "yaml.validate": false,
    "zenMode.fullScreen": false,
    "zenMode.hideStatusBar": false
}
